import{d as he,r as L,bG as $e,o as i,m as b,k as c,G as B,h as S,f as e,bH as le,t as U,p as N,v as Q,a9 as Qe,aa as Xe,F as O,n as G,a6 as Re,bx as Ee,by as je,w as De,bw as Ye,bI as Ze,bJ as et,aB as tt,bK as ot,ao as nt,ab as st,am as at,az as me,a as j,ac as rt,ak as Ve,aC as lt,b1 as it,bL as ut,e as ct,a2 as Ie,j as C,l as Z,i as m,I as ee,ax as dt,V as pt,_ as Ue,X as ft,A as Ne,an as mt,bM as vt,ah as ht,U as yt,bN as _t,as as gt}from"./eUQ_X7Id.js";import{_ as bt}from"./BgweL_3l.js";import{_ as Oe}from"./OAG_rOo8.js";import{_ as kt}from"./BfZiPQjx.js";import{_ as Le}from"./xORP-8Ow.js";import{_ as wt}from"./D8-i-l8m.js";import{_ as Ct}from"./B3xdBQzM.js";import{_ as xt}from"./Ctb-QkcA.js";import{C as Ce,S as Pe}from"./BcJws1i5.js";import{e as St}from"./DkQfqnYF.js";import{_ as Tt}from"./CHDbzgkk.js";import{_ as $t}from"./BMkcc7VF.js";import"./CktVnUy9.js";import"./A4w2ZRz2.js";import"./C8k43jHS.js";const re=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function Rt(t,a){if(typeof t!="string")throw new TypeError("argument str must be a string");const n={},y=(a||{}).decode||Dt;let v=0;for(;v<t.length;){const d=t.indexOf("=",v);if(d===-1)break;let h=t.indexOf(";",v);if(h===-1)h=t.length;else if(h<d){v=t.lastIndexOf(";",d-1)+1;continue}const _=t.slice(v,d).trim();if(n[_]===void 0){let u=t.slice(d+1,h).trim();u.codePointAt(0)===34&&(u=u.slice(1,-1)),n[_]=jt(u,y)}v=h+1}return n}function xe(t,a,n){const o=n||{},y=o.encode||Vt;if(typeof y!="function")throw new TypeError("option encode is invalid");if(!re.test(t))throw new TypeError("argument name is invalid");const v=y(a);if(v&&!re.test(v))throw new TypeError("argument val is invalid");let d=t+"="+v;if(o.maxAge!==void 0&&o.maxAge!==null){const h=o.maxAge-0;if(Number.isNaN(h)||!Number.isFinite(h))throw new TypeError("option maxAge is invalid");d+="; Max-Age="+Math.floor(h)}if(o.domain){if(!re.test(o.domain))throw new TypeError("option domain is invalid");d+="; Domain="+o.domain}if(o.path){if(!re.test(o.path))throw new TypeError("option path is invalid");d+="; Path="+o.path}if(o.expires){if(!Et(o.expires)||Number.isNaN(o.expires.valueOf()))throw new TypeError("option expires is invalid");d+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(d+="; HttpOnly"),o.secure&&(d+="; Secure"),o.priority)switch(typeof o.priority=="string"?o.priority.toLowerCase():o.priority){case"low":{d+="; Priority=Low";break}case"medium":{d+="; Priority=Medium";break}case"high":{d+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(o.sameSite)switch(typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite){case!0:{d+="; SameSite=Strict";break}case"lax":{d+="; SameSite=Lax";break}case"strict":{d+="; SameSite=Strict";break}case"none":{d+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return o.partitioned&&(d+="; Partitioned"),d}function Et(t){return Object.prototype.toString.call(t)==="[object Date]"||t instanceof Date}function jt(t,a){try{return a(t)}catch{return t}}function Dt(t){return t.includes("%")?decodeURIComponent(t):t}function Vt(t){return encodeURIComponent(t)}const It=c("div",{"x-divider":""},null,-1),qe=he({__name:"ServerRouteListItem",props:{item:{},index:{default:0}},setup(t){const a=L(!0),n=$e();return(o,y)=>{const v=Re,d=Oe,h=qe;return i(),b("div",null,[c("button",{flex:"~ gap-2","w-full":"","items-start":"","items-center":"","hover-bg-active":"",px2:"",py1:"",class:B([{"bg-active":e(n)===o.item.filepath}]),style:Qe({paddingLeft:`calc(0.5rem + ${o.index*1.5}em)`}),onClick:y[0]||(y[0]=_=>{a.value=!e(a),n.value=o.item.filepath})},[c("div",{class:B({"w-12":!o.item.routes}),"flex-none":"","text-left":""},[o.item.type==="collection"?(i(),S(v,{key:0,icon:"carbon:chevron-right","mb0.5":"","transform-rotate":e(a)?90:0,transition:""},null,8,["transform-rotate"])):(i(),S(d,{key:1,class:B(("getRequestMethodClass"in o?o.getRequestMethodClass:e(le))(o.item.method||"*")),textContent:U((o.item.method||"*").toUpperCase())},null,8,["class","textContent"]))],2),c("span",{class:B({"flex items-center":o.item.routes}),"text-sm":"","font-mono":""},[o.item.type==="collection"?(i(),S(v,{key:0,title:`${o.item.routes?.length} routes`,icon:"carbon:folder",mr1:""},null,8,["title"])):N("",!0),Q(" "+U(o.item.route),1)],2)],6),It,e(a)?Xe(o.$slots,"default",{key:0},()=>[(i(!0),b(O,null,G(o.item.routes,_=>(i(),S(h,{key:_.filepath,item:_,index:o.index+1},null,8,["item","index"]))),128))]):N("",!0)])}}});function M(t){if(typeof t!="object")return t;var a,n,o=Object.prototype.toString.call(t);if(o==="[object Object]"){if(t.constructor!==Object&&typeof t.constructor=="function"){n=new t.constructor;for(a in t)t.hasOwnProperty(a)&&n[a]!==t[a]&&(n[a]=M(t[a]))}else{n={};for(a in t)a==="__proto__"?Object.defineProperty(n,a,{value:M(t[a]),configurable:!0,enumerable:!0,writable:!0}):n[a]=M(t[a])}return n}if(o==="[object Array]"){for(a=t.length,n=Array(a);a--;)n[a]=M(t[a]);return n}return o==="[object Set]"?(n=new Set,t.forEach(function(y){n.add(M(y))}),n):o==="[object Map]"?(n=new Map,t.forEach(function(y,v){n.set(M(v),M(y))}),n):o==="[object Date]"?new Date(+t):o==="[object RegExp]"?(n=new RegExp(t.source,t.flags),n.lastIndex=t.lastIndex,n):o==="[object DataView]"?new t.constructor(M(t.buffer)):o==="[object ArrayBuffer]"?t.slice(0):o.slice(-6)==="Array]"?new t.constructor(t):t}const Ut={path:"/",watch:!0,decode:t=>Ze(decodeURIComponent(t)),encode:t=>encodeURIComponent(typeof t=="string"?t:JSON.stringify(t))},ve=window.cookieStore;function Nt(t,a){const n={...Ut,...a},o=Se(n)||{};let y;n.maxAge!==void 0?y=n.maxAge*1e3:n.expires&&(y=n.expires.getTime()-Date.now());const v=y!==void 0&&y<=0,d=M(v?void 0:o[t]??n.default?.()),h=y&&!v?Pt(d,y,n.watch&&n.watch!=="shallow"):L(d);{let _=null;try{!ve&&typeof BroadcastChannel<"u"&&(_=new BroadcastChannel(`nuxt:cookies:${t}`))}catch{}const u=()=>{n.readonly||et(h.value,o[t])||(Lt(t,h.value,n),o[t]=M(h.value),_?.postMessage({value:n.encode(h.value)}))},D=P=>{const F=P.refresh?Se(n)?.[t]:n.decode(P.value);I=!0,o[t]=h.value=F,tt(()=>{I=!1})};let I=!1;Ee()&&je(()=>{I=!0,u(),_?.close()}),ve?ve.onchange=P=>{const F=P.changed.find($=>$.name===t);F&&D({value:F.value})}:_&&(_.onmessage=({data:P})=>D(P)),n.watch?De(h,()=>{I||u()},{deep:n.watch!=="shallow"}):u()}return h}function Se(t={}){return Rt(document.cookie,t)}function Ot(t,a,n={}){return a==null?xe(t,a,{...n,maxAge:-1}):xe(t,a,n)}function Lt(t,a,n={}){document.cookie=Ot(t,a,n)}const Te=2147483647;function Pt(t,a,n){let o,y,v=0;const d=n?L(t):{value:t};return Ee()&&je(()=>{y?.(),clearTimeout(o)}),Ye((h,_)=>{n&&(y=De(d,_));function u(){v=0,clearTimeout(o);const D=a-v,I=D<Te?D:Te;o=setTimeout(()=>{if(v+=I,v<a)return u();d.value=void 0,_()},I)}return{get(){return h(),d.value},set(D){u(),d.value=D,_()}}})}const qt={"h-full":"","w-full":"",flex:"~ col"},At={flex:"~ col gap-2","flex-none":"",p4:"","n-navbar-glass":""},Mt={flex:"~ gap2 items-center"},Bt={relative:"","w-full":""},Ft={absolute:"","right-2":"","top-1.5":"",flex:"~ gap-1"},zt={flex:"~ gap2 wrap","w-full":"","items-center":"",px4:"",pb2:"","text-center":"","text-sm":"",border:"b base"},Ht={class:"hidden md:block"},Gt=c("div",{"flex-auto":""},null,-1),Jt=c("div",{"text-xs":"",op50:""}," Send from ",-1),Wt=c("option",{value:"app"}," App ",-1),Kt=c("option",{value:"devtools"}," DevTools ",-1),Qt={key:0,border:"b base","items-center":"",px4:"",py2:"",grid:"~ cols-[max-content_1fr] gap-2"},Xt={"text-right":"","font-mono":""},Yt={key:1,border:"b base",p4:"",flex:"~ col gap-4","font-mono":""},Zt={flex:"~ gap-4"},eo={flex:"~ gap2","mb--2":"","items-center":"",op50:""},to=c("div",{"w-5":"","x-divider":""},null,-1),oo=c("div",{"flex-none":""}," Default Inputs ",-1),no=c("div",{"x-divider":""},null,-1),so={key:2},ao={key:3,border:"b base",relative:"","n-code-block":""},ro={flex:"~ wrap","w-full":""},lo=["onClick"],io=c("div",{border:"b base","flex-auto":""},null,-1),uo={border:"b base",flex:"~ gap2","items-center":"",px4:"",py2:""},co=c("div",null,"Response",-1),po={key:1,"text-xs":"",op50:""},fo=c("div",{"flex-auto":""},null,-1),mo=c("div",{op50:""}," Request finished in ",-1),vo={key:0,"flex-auto":"","overflow-auto":""},ho={border:"~ base","h-full":"","w-full":"",rounded:""},yo=["data"],_o={key:2,"flex-auto":"","overflow-auto":"",p4:""},go={border:"~ base",rounded:""},bo=["src"],ko={key:1,controls:"",rounded:""},wo=["src"],Co=he({__name:"ServerRouteDetails",props:{route:{}},emits:["open-default-input"],setup(t,{emit:a}){const n=t,o=a,[y,v]=ot(),d=nt(),h=st(),_=at(),u=me({contentType:"text/plain",data:"",statusCode:200,error:void 0,fetchTime:0}),D=j(()=>u.contentType.includes("application/json")?"json":u.contentType.includes("text/html")?"html":u.contentType.includes("text/css")?"css":u.contentType.includes("text/javascript")?"javascript":u.contentType.includes("image")||u.contentType.includes("video")?"media":u.contentType.includes("text/xml")||u.contentType.includes("application/xml")?"xml":u.contentType.includes("application/pdf")?"pdf":"text"),I=j(()=>{if(D.value==="json")return JSON.stringify(u.data,null,2);if(D.value==="media"||D.value==="pdf"){const s=new Blob([u.data],{type:u.contentType});return URL.createObjectURL(s)}return u.data}),P=L(!1),F=L(!1),$=rt(),T=j(()=>n.route.route?.split(/((?:\*\*)?:\w+)/g)),q=j(()=>T.value?.filter(s=>s.startsWith(":")||s.startsWith("**:"))||[]),g=L(n.route.method||"GET"),R=L({}),k=me({query:[{active:!0,key:"",value:"",type:"string"}],body:[{active:!0,key:"",value:"",type:"string"}],headers:[{active:!0,key:"Content-Type",value:"application/json",type:"string"}]}),V=L({}),{inputDefaults:w,sendFrom:z}=Ve("serverRoutes"),J=j(()=>_?.value?.app?.$fetch?z.value:"devtools"),ie=["GET","POST","PUT","PATCH","DELETE","HEAD"],ue=["PATCH","POST","PUT","DELETE"],te=j(()=>ue.includes(g.value.toUpperCase())),f=L(),oe=["input","json"],W=L(oe[0]),ne=j({get:()=>k[f.value],set:s=>{k[f.value]=s}}),ye=j(()=>({...K(w.value.query),...K(k.query)})),_e=j(()=>({...K(w.value.headers),...K(k.headers)})),ce=j(()=>te.value?W.value==="json"?{...K(w.value.body),...V.value}:{...K(w.value.body),...K(k.body)}:void 0),Ae=j(()=>{let s=window?.location.origin;return s.charAt(s.length-1)==="/"&&(s=s.slice(0,-1)),s}),se=j(()=>{let s=new URLSearchParams(ye.value).toString();s&&(s=`?${s}`);const l=(T.value?.map(E=>(E.startsWith(":")||E.startsWith("**:"))&&R.value[E]||E).join("")||"")+s;let p=h.value?.app.baseURL||"";return(p==="./"||p===".")&&(p=""),p.endsWith("/")&&(p=p.slice(0,-1)),p+l}),ge=j(()=>Ae.value+se.value);function K(s){const l=Object.fromEntries(s.filter(({active:p,key:E,value:x})=>p&&E&&x!==void 0).map(({key:p,value:E})=>[p,E]));return Object.entries(l).length?l:void 0}async function be(){F.value=!0,P.value=!0;const s=Date.now(),l=J.value==="app"?_.value.app.$fetch:$fetch;pt("server-routes:fetch",{method:g.value,sendFrom:J.value});try{u.data=await l(ge.value,{method:g.value.toUpperCase(),headers:_e.value,query:ye.value,body:ce.value,onResponse({response:p}){u.contentType=(p.headers.get("content-type")||"").toString().toLowerCase().trim(),u.statusCode=p.status,u.error=void 0},onResponseError(p){u.error=p.response._data,u.data=p.response._data}})}catch{}P.value=!1,u.fetchTime=Date.now()-s}const ke=j(()=>{const s=[],l=[],p=Object.entries(_e.value).filter(([x,A])=>x&&A&&!(x==="Content-Type"&&A==="application/json")).map(([x,A])=>`  '${x}': '${A}'`).join(`,
`);g.value.toUpperCase()!=="GET"&&l.push(`method: '${g.value.toUpperCase()}'`),p&&l.push(`headers: {
${p}
}`),ce.value&&l.push(`body: ${JSON.stringify(ce.value,null,2)}`);const E=l.length?`, {
${l.join(`,
`).split(`
`).map(x=>`  ${x}`).join(`
`)}
}`:"";return s.push({name:"useFetch",lang:"javascript",docs:Ce.nuxt.useFetch,code:`const { data, pending, error, refresh } = useFetch('${se.value}'${E})`}),s.push({name:"$fetch",lang:"javascript",docs:Ce.nuxt.$fetch,code:`await $fetch('${se.value}'${E})`}),s}),X=L(Be()),H=me({key:"",value:""}),Me=j(()=>{const s=[];return q.value.length&&s.push({name:"Params",slug:"params",length:q.value.length}),s.push({name:"Query",slug:"query",length:k.query.length}),te.value&&s.push({name:"Body",slug:"body",length:k.body.length}),s.push({name:"Headers",slug:"headers",length:k.headers.length}),s.push({name:"Cookies",slug:"cookies",length:X.value.length}),s.push({name:"Snippets",slug:"snippet"}),s});function Be(){return document.cookie.split("; ").map(s=>{const[l,p]=s.split("=");return{key:l,value:p}}).filter(s=>s.key)}function de(s,l){if(!s)return;const p=X.value.find(x=>x.key===s),E=Nt(s);p!==void 0?l===void 0&&(X.value=X.value.filter(x=>x.key!==s)):(X.value.push({key:s,value:l}),H.key="",H.value=""),E.value=l}lt(()=>{W.value==="json"&&typeof V.value=="string"&&(V.value=JSON.parse(V.value))});const pe=it("nuxt-devtools:server-routes:inputs",()=>[],{window:window.parent});ut([k,f],()=>{const s=pe.value?.find(l=>l.path===n.route.filepath);if(s){f.value||(f.value=s.tab),s.tab!==f.value&&(s.tab=f.value);const{body:l,query:p,headers:E,params:x}=s.inputs;Object.assign(k,{body:l,query:p,headers:E}),R.value=x}else{const l={path:n.route.filepath,tab:q.value.length?"params":"query",inputs:{...k,...q.value.length?{params:R.value}:{}}};pe.value.push(l),f.value||(f.value=l.tab)}},{immediate:!0,deep:!0,debounce:500});function Fe(){pe.value=[],k.body=[],k.query=[],k.headers=[],R.value={},f.value=q.value.length?"params":"query"}const ze=ct();return(s,l)=>{const p=Ue,E=kt,x=ft,A=Re,we=Le,He=wt,Ge=Ne,Je=mt,fe=Oe,We=Ct,Ke=xt,ae=Ie("tooltip");return i(),b("div",qt,[c("div",At,[c("div",Mt,[s.route.method?(i(),S(p,{key:0,class:B(["n-badge-base n-sm",("getRequestMethodClass"in s?s.getRequestMethodClass:e(le))(e(g))]),"pointer-events-none":"","font-mono":"",tabindex:"-1"},{default:C(()=>[Q(U(e(g).toUpperCase()),1)]),_:1},8,["class"])):(i(),S(E,{key:1,modelValue:e(g),"onUpdate:modelValue":l[0]||(l[0]=r=>Z(g)?g.value=r:null),class:B(["n-badge-base n-sm",("getRequestMethodClass"in s?s.getRequestMethodClass:e(le))(e(g))])},{default:C(()=>[(i(),b(O,null,G(ie,r=>c("option",{key:r,class:B(("getRequestMethodClass"in s?s.getRequestMethodClass:e(le))(r))},U(r.toUpperCase()),3)),64))]),_:1},8,["modelValue","class"])),c("div",Bt,[m(x,{"model-value":e(se),readonly:"","flex-auto":"","font-mono":"",p:"x5 y2",n:"sm"},null,8,["model-value"]),c("div",Ft,[ee(m(p,{title:"Copy URL",n:"xs blue",icon:"carbon:copy",border:!1,onClick:l[1]||(l[1]=r=>e(ze)(e(ge),"server-route-url"))},null,512),[[ae,"Copy URL"]]),ee(m(p,{title:"Open in Editor",icon:"carbon-launch",n:"xs blue",border:!1,onClick:l[2]||(l[2]=r=>e($)(s.route.filepath))},null,512),[[ae,"Open in Editor"]])])]),m(p,{"h-full":"",n:"primary solid",onClick:be},{default:C(()=>[m(A,{icon:"carbon:send"})]),_:1})])]),c("div",zt,[(i(!0),b(O,null,G(e(Me),r=>ee((i(),S(p,{key:r.slug,class:B(e(f)===r.slug?"text-primary n-primary":"border-transparent shadow-none"),onClick:Y=>f.value=r.slug},{default:C(()=>[m(A,{icon:("ServerRouteTabIcons"in s?s.ServerRouteTabIcons:e(Pe))[r.slug]},null,8,["icon"]),c("div",Ht,[Q(U(r.name)+" "+U(r?.length?`(${r.length})`:"")+" ",1),c("span",null,U(e(w)[r.slug]?.length?`(${e(w)[r.slug].length})`:""),1)])]),_:2},1032,["class","onClick"])),[[ae,r.name]])),128)),Gt,Jt,m(E,{modelValue:e(J),"onUpdate:modelValue":l[3]||(l[3]=r=>Z(J)?J.value=r:null),class:"n-xs",disabled:!e(_)?.app?.$fetch},{default:C(()=>[Wt,Kt]),_:1},8,["modelValue","disabled"]),ee(m(p,{n:"orange",class:"p-3",icon:"i-carbon-clean",onClick:Fe},null,512),[[ae,"Clear Inputs Saved Cache"]])]),e(f)==="params"?(i(),b("div",Qt,[(i(!0),b(O,null,G(e(q),r=>(i(),b(O,{key:r},[c("div",Xt,U(r),1),m(x,{modelValue:e(R)[r],"onUpdate:modelValue":Y=>e(R)[r]=Y,placeholder:r,"flex-1":""},null,8,["modelValue","onUpdate:modelValue","placeholder"])],64))),128))])):N("",!0),e(f)==="cookies"?(i(),b("div",Yt,[(i(!0),b(O,null,G(e(X),r=>(i(),b("div",{key:r.key,flex:"~ gap-4 items-center"},[m(x,{placeholder:"Key...","model-value":r.key,disabled:"","op-70":""},null,8,["model-value"]),m(x,{placeholder:"Value...","model-value":r.value,"flex-1":"",n:"primary",onInput:Y=>de(r.key,Y.target?.value)},null,8,["model-value","onInput"]),m(p,{title:"Delete",n:"red",onClick:Y=>de(r.key,void 0)},{default:C(()=>[m(A,{icon:"i-carbon-trash-can"})]),_:2},1032,["onClick"])]))),128)),c("div",Zt,[m(x,{modelValue:e(H).key,"onUpdate:modelValue":l[4]||(l[4]=r=>e(H).key=r),placeholder:"Key",n:"primary","flex-1":""},null,8,["modelValue"]),m(x,{modelValue:e(H).value,"onUpdate:modelValue":l[5]||(l[5]=r=>e(H).value=r),placeholder:"Value",n:"primary","flex-1":""},null,8,["modelValue"]),m(p,{title:"Add",n:"primary",onClick:l[6]||(l[6]=r=>de(e(H).key,e(H).value))},{default:C(()=>[m(A,{icon:"i-carbon-save"})]),_:1})])])):N("",!0),m(e(y),null,{default:C(()=>[m(we,{modelValue:e(ne),"onUpdate:modelValue":l[9]||(l[9]=r=>Z(ne)?ne.value=r:null),default:{active:!0,type:"string"},"max-h-xs":"","of-auto":""},{default:C(()=>[e(w)[e(f)]?.length?(i(),b(O,{key:0},[c("div",eo,[to,oo,m(p,{icon:"i-carbon-edit",border:!1,onClick:l[7]||(l[7]=r=>o("open-default-input"))}),no]),m(we,{modelValue:e(w)[e(f)],"onUpdate:modelValue":l[8]||(l[8]=r=>e(w)[e(f)]=r),disabled:"",p0:""},null,8,["modelValue"])],64)):N("",!0)]),_:1},8,["modelValue"])]),_:1}),e(f)==="snippet"?(i(),b("div",so,[e(ke).length?(i(),S(He,{key:0,"code-snippets":e(ke)},null,8,["code-snippets"])):N("",!0)])):e(ne)?(i(),b("div",ao,[e(f)==="body"?(i(),b(O,{key:0},[c("div",ro,[(i(),b(O,null,G(oe,r=>c("button",{key:r,px4:"",py2:"",border:"r base",hover:"bg-active",class:B({"border-b":r!==e(W)}),onClick:Y=>W.value=r},[c("div",{class:B({op30:r!==e(W)}),"font-mono":""},U(r),3)],10,lo)),64)),io]),e(W)==="input"?(i(),S(e(v),{key:0})):e(W)==="json"?(i(),S(e(St),dt({key:1,modelValue:e(V),"onUpdate:modelValue":l[10]||(l[10]=r=>Z(V)?V.value=r:null),class:[e(d)==="dark"?"jse-theme-dark":"light","json-editor-vue of-auto text-sm outline-none"]},s.$attrs,{mode:"text","navigation-bar":!1,indentation:2,"tab-size":2}),null,16,["modelValue","class"])):N("",!0)],64)):(i(),S(e(v),{key:1}))])):N("",!0),e(F)?e(P)?(i(),S(Je,{key:5,"z-10":"","flex-auto":"","backdrop-blur":""},{default:C(()=>[Q(" Fetching... ")]),_:1})):(i(),b(O,{key:6},[c("div",uo,[co,e(u).error?(i(),S(fe,{key:0,n:"red"},{default:C(()=>[Q(" Error ")]),_:1})):N("",!0),m(fe,{n:e(u).error?"orange":"green",textContent:U(e(u).statusCode)},null,8,["n","textContent"]),e(u).contentType?(i(),b("code",po,U(e(u).contentType),1)):N("",!0),e(u).contentType==="application/json"?(i(),S(We,{key:2,getter:()=>({input:e(I)})},null,8,["getter"])):N("",!0),fo,mo,m(fe,{n:"green"},{default:C(()=>[Q(U(e(u).fetchTime)+" ms ",1)]),_:1})]),e(D)==="pdf"?(i(),b("div",vo,[c("div",ho,[c("object",{data:e(I),type:"application/pdf","flex-auto":"",width:"100%",height:"100%",rounded:""},null,8,yo)])])):e(D)!=="media"?(i(),S(Ke,{key:1,"flex-auto":"","overflow-auto":"","py-2":"",code:e(I),lang:e(D)},null,8,["code","lang"])):(i(),b("div",_o,[c("div",go,[e(u).contentType.includes("image")?(i(),b("img",{key:0,rounded:"",src:e(I)},null,8,bo)):(i(),b("video",ko,[c("source",{src:e(I),type:"video/mp4"},null,8,wo)]))])]))],64)):(i(),S(Ge,{key:4},{default:C(()=>[m(p,{n:"primary",onClick:be},{default:C(()=>[m(A,{icon:"carbon:send"}),Q(" Send request ")]),_:1})]),_:1}))])}}}),xo={flex:"~ gap1","text-sm":""},So={key:0,op50:""},To={op50:""},$o=c("span",{op75:""},"Select a route to start",-1),Ro=c("div",{p4:"",border:"b base"},[c("span",{"text-lg":""},"Default Inputs"),c("br"),c("span",{"text-white":"",op50:""},"Merged as default for every request in DevTools")],-1),zo=he({__name:"server-routes",setup(t){const a=L(!1),n=vt(),o=$e(),{selectedRoute:y,view:v,inputDefaults:d}=Ve("serverRoutes"),h=j(()=>{!o.value&&y.value&&(o.value=y.value.filepath);const $=n.value?.find(T=>T.filepath===o.value);return o.value!==y.value?.filepath&&$&&(y.value=$),$}),_=L(""),u=j(()=>new ht(n.value||[],{keys:["method","route"],shouldSort:!0})),D=j(()=>n.value?_.value?u.value.search(_.value).map(T=>T.item):n.value:[]),I=j(()=>{const $=[],T=(g,R)=>{g.routes=g.routes||[],g.routes.push(R)},q=(g,R)=>{const k=R?R.routes?.find(w=>w.route===g):$.find(w=>w.route===g);if(k)return k;const V={route:g,filepath:g.replace(/\W/g,"-").toLowerCase(),type:"collection",routes:[]};return R?T(R,V):$.push(V),V};return D.value.forEach(g=>{let R,k;const V=g.filepath.split("/"),w=V.slice(V.indexOf("server")+1);if(g.type==="runtime"){w[0]="runtime";const z=V.indexOf("dist");z!==-1&&(R=V[z-1],R&&w.splice(1,0,R))}w.length>0&&w[w.length-1].includes(".")&&w.pop(),w.forEach(z=>{k=q(z,k)}),k?T(k,g):$.push(g)}),$});function P(){v.value=v.value==="tree"?"list":"tree"}function F($){return $.charAt(0).toUpperCase()+$.slice(1)}return($,T)=>{const q=Ue,g=bt,R=qe,k=Co,V=gt,w=Ne,z=yt,J=Le,ie=Tt,ue=$t,te=Ie("tooltip");return i(),b(O,null,[m(z,{"storage-key":"tab-server-routes"},{left:C(()=>[m(g,{search:e(_),"onUpdate:search":T[1]||(T[1]=f=>Z(_)?_.value=f:null),pb2:""},{actions:C(()=>[ee(m(q,{"text-lg":"",icon:e(v)==="list"?"i-carbon-list":"i-carbon-tree-view-alt",title:"Toggle view",border:!1,onClick:P},null,8,["icon"]),[[te,"Toggle View"]]),ee(m(q,{"text-lg":"",icon:"i-carbon-cics-sit-overrides",title:"Default Inputs",border:!1,onClick:T[0]||(T[0]=f=>a.value=!e(a))},null,512),[[te,"Default Inputs"]])]),default:C(()=>[c("div",xo,[e(_)?(i(),b("span",So,U(e(D).length)+" matched · ",1)):N("",!0),c("span",To,U(e(n)?.length)+" routes in total",1)])]),_:1},8,["search"]),(i(!0),b(O,null,G(e(v)==="tree"?e(I):e(D),f=>(i(),S(R,{key:f.filepath,item:f},null,8,["item"]))),128))]),right:C(()=>[(i(),S(_t,{max:10},[e(h)?(i(),S(k,{key:e(h).filepath,route:e(h),onOpenDefaultInput:T[2]||(T[2]=f=>a.value=!0)},null,8,["route"])):N("",!0)],1024)),e(h)?N("",!0):(i(),S(w,{key:0},{default:C(()=>[m(V,{px6:"",py2:""},{default:C(()=>[$o]),_:1})]),_:1}))]),_:1}),m(ue,{modelValue:e(a),"onUpdate:modelValue":T[3]||(T[3]=f=>Z(a)?a.value=f:null),"auto-close":"","max-w-xl":"","min-w-xl":"",onClose:T[4]||(T[4]=f=>a.value=!1)},{default:C(()=>[c("div",null,[Ro,(i(!0),b(O,null,G(Object.keys(e(d)),f=>(i(),S(ie,{key:f,text:`${F(f)} ${e(d)[f].length?`(${e(d)[f].length})`:""}`,padding:!1,icon:("ServerRouteTabIcons"in $?$.ServerRouteTabIcons:e(Pe))[f]},{default:C(()=>[m(J,{modelValue:e(d)[f],"onUpdate:modelValue":oe=>e(d)[f]=oe,py0:"",default:{active:!0,type:"string"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["text","icon"]))),128))])]),_:1},8,["modelValue"])],64)}}});export{zo as default};
